{% extends "base.html" %}

{% block title %}Login - Alt-Track{% endblock %}

{% block content %}
<div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-lg mt-10 border border-gray-200">
    <div class="p-8">
        <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold mb-1 text-center">Welcome Back</div>
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Access Your Portfolio</h2>

        <!-- Tabs -->
        <div class="flex border-b border-gray-200 mb-6" x-data="{ tab: 'login' }">
            <button
                class="w-1/2 py-2 text-center font-medium text-blue-600 border-b-2 border-blue-600 focus:outline-none"
                onclick="showLogin()">Login</button>
            <button class="w-1/2 py-2 text-center font-medium text-gray-500 hover:text-gray-700 focus:outline-none"
                onclick="showRegister()">Register</button>
        </div>

        <!-- Login Form -->
        <div id="login-form">
            <form hx-post="/login" hx-target="#auth-message" hx-swap="innerHTML">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="email">Email</label>
                    <input
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                        id="email" name="email" type="email" placeholder="you@example.com" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="password">Password</label>
                    <input
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
                        id="password" name="password" type="password" placeholder="******************" required>
                </div>
                <div class="flex items-center justify-between">
                    <button
                        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full transition duration-150"
                        type="submit">
                        Sign In
                    </button>
                </div>
            </form>
        </div>

        <!-- Register Form (Hidden by default) -->
        <div id="register-form" class="hidden">
            <form hx-post="/register" hx-target="#auth-message" hx-swap="innerHTML">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="reg-email">Email</label>
                    <input
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                        id="reg-email" name="email" type="email" placeholder="you@example.com" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="reg-password">Password</label>
                    <input
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
                        id="reg-password" name="password" type="password" placeholder="Create a password" required>
                </div>
                <div class="flex items-center justify-between">
                    <button
                        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full transition duration-150"
                        type="submit">
                        Create Account
                    </button>
                </div>
            </form>
        </div>

        <!-- Feedback Area -->
        <div id="auth-message" class="mt-4 text-center text-sm font-medium"></div>

    </div>
</div>

<script>
    function showLogin() {
        document.getElementById('login-form').classList.remove('hidden');
        document.getElementById('register-form').classList.add('hidden');
        document.getElementById('auth-message').innerHTML = '';
    }
    function showRegister() {
        document.getElementById('login-form').classList.add('hidden');
        document.getElementById('register-form').classList.remove('hidden');
        document.getElementById('auth-message').innerHTML = '';
    }
</script>
{% endblock %}
