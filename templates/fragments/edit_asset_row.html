<tr id="asset-row-{{ asset.id }}" class="bg-blue-50 border-l-4 border-blue-500 shadow-inner">
    <td colspan="6">
        <form hx-put="/fragments/assets/{{ asset.id }}" hx-target="#dashboard-container" hx-swap="innerHTML"
            class="p-4">
            <div class="flex items-center justify-between w-full gap-6 mb-4">
                <!-- Name -->
                <div class="flex-1">
                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Asset Name</label>
                    <input type="text" name="name" value="{{ asset.name }}"
                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                        required>
                </div>

                <!-- Category -->
                <div class="flex-1">
                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Category</label>
                    <select name="category_id"
                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        <option value="0">No Category</option>
                        {% for cat in categories %}
                        <option value="{{ cat.id }}" {% if asset.category_id==cat.id %}selected{% endif %}>{{ cat.name
                            }}</option>
                        {% endfor %}
                    </select>
                </div>

                <!-- Static Cost Display -->
                <div class="w-32 text-right">
                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Original Cost</label>
                    <span class="block py-2 text-gray-700 font-mono">${{ "{:,.2f}".format(asset.purchase_price)
                        }}</span>
                </div>

                <!-- Current Value Input -->
                <div class="w-40">
                    <label class="block text-xs font-bold text-gray-700 uppercase mb-1">New Market Value</label>
                    <div class="relative rounded-md shadow-sm">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <span class="text-gray-500 sm:text-sm">$</span>
                        </div>
                        <input type="number" step="0.01" name="current_market_value"
                            value="{{ asset.current_market_value }}"
                            class="w-full pl-7 pr-3 py-2 bg-white border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm font-bold text-gray-900"
                            required>
                    </div>
                </div>
            </div>

            <!-- Audit Note & Buttons -->
            <div class="flex items-end justify-between gap-6 border-t border-blue-100 pt-4">
                <div class="flex-grow">
                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">
                        Audit Note <span class="font-normal normal-case text-gray-400">(Required for valuation
                            changes)</span>
                    </label>
                    <input type="text" name="audit_note" placeholder="e.g. 'Q3 Market Adjustment' or 'Appraisal Update'"
                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm">
                </div>

                <div class="flex space-x-3 pb-0.5">
                    <button hx-get="/dashboard" hx-target="body"
                        class="px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Cancel
                    </button>
                    <button type="submit"
                        class="px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Save Updates
                    </button>
                </div>
            </div>
        </form>
    </td>
</tr>
